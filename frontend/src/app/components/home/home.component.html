<div class="content-layout">
  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto">
    <h3>Update by generation</h3>
    <form [formGroup]="generationForm" (ngSubmit)="updatePokemons()">
      <select id="generation" formControlName="generation">
        <option value="1">Generation 1</option>
        <option value="2">Generation 2</option>
        <option value="3">Generation 3</option>
      </select>

      <div
        *ngIf="
          generationForm.controls.generation.invalid &&
          (generationForm.controls.generation.dirty ||
            generationForm.controls.generation.touched)
        "
      >
        <div *ngIf="generationForm.controls.generation.errors?.['required']">
          generation is required.
        </div>
      </div>
      <br />

      <button
        type="submit"
        class="submitButton"
        [disabled]="!generationForm.valid"
      >
        Update Pokemons
      </button>
    </form>
  </div>
  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto">
    <h3>Filter by generation</h3>

    <form [formGroup]="generationForm" (ngSubmit)="getPokemons()">
      <label for="generation">Generation: </label>
      <select id="generation" formControlName="generation">
        <option value="1" selected>Generation 1</option>
        <option value="2">Generation 2</option>
        <option value="3">Generation 3</option>
      </select>

      <div
        *ngIf="
          generationForm.controls.generation.invalid &&
          (generationForm.controls.generation.dirty ||
            generationForm.controls.generation.touched)
        "
      >
        <div *ngIf="generationForm.controls.generation.errors?.['required']">
          generation is required.
        </div>
      </div>
      <br />

      <button
        class="submitButton"
        type="submit"
        [disabled]="!generationForm.valid"
      >
        Show Pokemons
      </button>
    </form>
  </div>
  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto">
    <h3>Filter by type</h3>

    <form [formGroup]="typeForm" (ngSubmit)="getPokemonsByType()">
      <select id="type" formControlName="type">
        <option *ngFor="let type of pokemonTypes" [value]="type">
          {{ type }}
        </option>
      </select>

      <div
        *ngIf="
          typeForm.controls.type.invalid &&
          (typeForm.controls.type.dirty || typeForm.controls.type.touched)
        "
      >
        <div *ngIf="typeForm.controls.type.errors?.['required']">
          type is required.
        </div>
      </div>
      <br />

      <button type="submit" class="submitButton" [disabled]="!typeForm.valid">
        Show Pokemons
      </button>
    </form>
  </div>
  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto">
    <h3>Get Shiny</h3>

    <form [formGroup]="shinyForm" (ngSubmit)="getShinyPokemon()">
      <button type="submit" class="submitButton">I feel lucky</button>
    </form>
  </div>
</div>
<div class="layout">
  <div class="poke-li" *ngFor="let pokemon of pokemons">
    <p class="poke-p">
      <img
        class="poke-image"
        src="{{ !shiny ? pokemon.image : pokemon.shiny_image }}"
      />
    </p>

    <div class="pokemon-info">
      <p class="id">
        <span class="number-prefix">#</span>{{ pokemon.id_value }}
      </p>
      <h5>{{ pokemon.name }}</h5>
      <div *ngFor="let type of pokemon.type">
        <div class="abilities">
          <span class="pill background-color-{{ type }}"> {{ type }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
